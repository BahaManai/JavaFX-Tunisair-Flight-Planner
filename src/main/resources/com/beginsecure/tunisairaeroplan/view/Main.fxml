<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.text.*?>
<?import org.kordamp.bootstrapfx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>
<?import org.kordamp.bootstrapfx.BootstrapFX?>
<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.beginsecure.tunisairaeroplan.Controller.MainController"
            stylesheets="@main.css">

    <!-- Barre latérale professionnelle -->
    <left>
        <VBox fx:id="sidebar" prefWidth="280" spacing="0" styleClass="sidebar">
            <!-- En-tête avec logo amélioré -->
            <StackPane styleClass="sidebar-header">
                <HBox alignment="CENTER_LEFT" spacing="12" styleClass="header-content">
                    <ImageView fitWidth="40" fitHeight="40" preserveRatio="true">
                        <image>
                            <Image url="@../images/logo.png" />
                        </image>
                    </ImageView>
                    <Label text="TUNISAIR AÉROPLAN" styleClass="app-title"/>
                </HBox>
            </StackPane>

            <!-- Section utilisateur profil -->
            <VBox styleClass="user-profile">
                <FontIcon iconLiteral="fas-user-circle" iconSize="48" styleClass="user-icon"/>
                <Label text="Administrateur" styleClass="user-name"/>
                <Label text="admin@tunisair.com" styleClass="user-email"/>
            </VBox>

            <!-- Menu de navigation amélioré -->
            <VBox spacing="8" styleClass="nav-menu">
                <Button text="TABLEAU DE BORD" onAction="#showHome" styleClass="nav-btn">
                    <graphic>
                        <FontIcon iconLiteral="fas-chart-line" styleClass="nav-icon"/>
                    </graphic>
                </Button>

                <Button text="PLANIFICATION" onAction="#showPlanificationVols" styleClass="nav-btn">
                    <graphic>
                        <FontIcon iconLiteral="fas-calendar-check" styleClass="nav-icon"/>
                    </graphic>
                </Button>

                <Button text="CALENDRIER" onAction="#showCalendrier" styleClass="nav-btn">
                    <graphic>
                        <FontIcon iconLiteral="fas-calendar-alt" styleClass="nav-icon"/>
                    </graphic>
                </Button>

                <Button text="ÉQUIPAGES" onAction="#showEquipages" styleClass="nav-btn">
                    <graphic>
                        <FontIcon iconLiteral="fas-users-cog" styleClass="nav-icon"/>
                    </graphic>
                </Button>

                <Button text="PILOTES et MEMBRES" onAction="#showMembres" styleClass="nav-btn">
                    <graphic>
                        <FontIcon iconLiteral="fas-user-tie" styleClass="nav-icon"/>
                    </graphic>
                </Button>

                <Button text="GESTION DES AVIONS" onAction="#showAvions" styleClass="nav-btn">
                    <graphic>
                        <FontIcon iconLiteral="fas-plane" styleClass="nav-icon"/>
                    </graphic>
                </Button>

                <Button text="ARCHIVES" onAction="#showArchives" styleClass="nav-btn">
                    <graphic>
                        <FontIcon iconLiteral="fas-archive" styleClass="nav-icon"/>
                    </graphic>
                </Button>

                <Button text="LISTE D'ATTENTE" onAction="#showListeAttente" styleClass="nav-btn">
                    <graphic>
                        <FontIcon iconLiteral="fas-clock" styleClass="nav-icon"/>
                    </graphic>
                </Button>
            </VBox>

            <!-- Bouton de déconnexion positionné en bas -->
            <Button text="DÉCONNEXION" onAction="#handleLogout" styleClass="logout-btn">
                <graphic>
                    <FontIcon iconLiteral="fas-sign-out-alt" styleClass="logout-icon"/>
                </graphic>
            </Button>
        </VBox>
    </left>

    <center>
        <StackPane fx:id="contentPane" styleClass="content-pane"/>
    </center>

    <bottom>
        <HBox alignment="CENTER" styleClass="status-bar">
            <Label text="© 2023 Tunisair Aéroplan - Tous droits réservés" styleClass="copyright"/>
            <Label fx:id="statusLabel" text="Système en ligne" styleClass="status-indicator"/>
        </HBox>
    </bottom>
</BorderPane>